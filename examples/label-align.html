<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0">
    <meta name="apple-mobile-web-app-capable" content="yes">

    <!-- Tell MSIE to please try and be modern -->
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" >

    <title>OpenLayers Label Alignment Example</title>
    <link rel="stylesheet" href="../theme/default/style.css" type="text/css">
    <link rel="stylesheet" href="style.css" type="text/css">

    <style type="text/css">
        p {
            width: 500px;
        }
    </style>
    <script src="../lib/OpenLayers.js"></script>
    <script type="text/javascript">
        var map, vectorLayer, clusterStrategy;

        function init(){

            // allow testing of specific renderers via "?renderer=Canvas", etc
            var renderer = OpenLayers.Util.getParameters(window.location.href).renderer;
            if (renderer) {
                document.getElementById('renderer').innerHTML = '(' + renderer + ')';
            }
            renderer = (renderer) ? [renderer] : OpenLayers.Layer.Vector.prototype.renderers;


            map = new OpenLayers.Map('map');
            var layer = new OpenLayers.Layer.XYZ('OpenStreetMap','http://tile.openstreetmap.org/${z}/${x}/${y}.png',
                {projection: 'EPSG:3857'}
            );
            map.addLayer(layer);

            var style = new OpenLayers.Style({
                pointRadius: 5,
                fillColor: "#ffcc66",
                fillOpacity: 0.8,
                strokeColor: "#cc6633",
                strokeWidth: 4,
                strokeOpacity: 1,

                fontColor: "black",
                fontSize: '24px',
                fontWeight: 'normal',
                fontStyle: 'normal',
                labelAlign: '${labelAlign}',
                labelOutlineColor: 'rgba(255,255,255,0.6)',
                labelOutlineWidth: 2,
                label : '${labelAlign}',

                labelXOffset: '0',
                labelYOffset: '0'
            });

            vectorLayer = new OpenLayers.Layer.Vector("Clusters one",{
                styleMap: new OpenLayers.StyleMap({'default': style}),
                renderers: renderer
            });

            map.addLayer(vectorLayer);
            map.setCenter(new OpenLayers.LonLat(0,0), 10);

            var data = [
                {lat:-10000,lon:-10000,labelAlign:'lb'},
                {lat:-10000,lon:     0,labelAlign:'cb'},
                {lat:-10000,lon: 10000,labelAlign:'rb'},
                {lat:     0,lon:-10000,labelAlign:'lm'},
                {lat:     0,lon:     0,labelAlign:'cm'},
                {lat:     0,lon: 10000,labelAlign:'rm'},
                {lat: 10000,lon:-10000,labelAlign:'lt'},
                {lat: 10000,lon:     0,labelAlign:'ct'},
                {lat: 10000,lon: 10000,labelAlign:'rt'}
            ];

            var points = [];
            for (var i in data) {
                var geom  = new OpenLayers.Geometry.Point(data[i].lon,data[i].lat);
                var point = new OpenLayers.Feature.Vector(geom,{labelAlign:data[i].labelAlign});
                points.push(point);
            }
            vectorLayer.addFeatures(points);

        }

    </script>
  </head>
  <body onload="init()">
    <h1 id="title">Label alignments <span id='renderer'></span></h1>

    <div id="tags">
        vector, cluster, rotate, dynamic
    </div>
  <p id="shortdesc">
      Label alignments
  </p>
    <div id="map" style="width:100%; height:500px;"></div>
    <div id="docs"><p>All posible (9) label alignments.</p></div>
    <div><p>Try using another vector renderer: <a href='?renderer=SVG'>SVG</a>, <a href='?renderer=Canvas'>Canvas</a>, <a href='?renderer=VML'>VML</a></p></div>
  </body>
</html>
